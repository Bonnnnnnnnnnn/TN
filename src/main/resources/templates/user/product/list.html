 <!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" th:replace="~{/user/index :: dynamic(~{::main})}">
<body>
	<main>
		<!-- Breadcrumb Section Begin -->
	    <section class="breadcrumb-section set-bg" data-setbg="/assets/img/breadcrumb.jpg">
	        <div class="container">
	            <div class="row">
	                <div class="col-lg-12 text-center">
	                    <div class="breadcrumb__text">
	                        <h2>Organi Shop</h2>
	                        <div class="breadcrumb__option">
	                            <a th:href="@{/home/index}">Home</a>
	                            <span>Shop</span>
	                        </div>
	                    </div>
	                </div>
	            </div>
	        </div>
	    </section>
	    <!-- Breadcrumb Section End -->
	
	    <!-- Product Section Begin -->
	    <section class="product spad">
	        <div class="container">
	            <div class="row">
	                <div class="col-lg-3 col-md-5">
	                    <div class="sidebar">
	                        <div class="sidebar__item">
	                            <h4>Price</h4>
	                            <div class="price-range-wrap">
	                                <div class="price-range ui-slider ui-corner-all ui-slider-horizontal ui-widget ui-widget-content"
	                                    data-min="10" data-max="540">
	                                    <div class="ui-slider-range ui-corner-all ui-widget-header"></div>
	                                    <span tabindex="0" class="ui-slider-handle ui-corner-all ui-state-default"></span>
	                                    <span tabindex="0" class="ui-slider-handle ui-corner-all ui-state-default"></span>
	                                </div>
	                                <div class="range-slider">
	                                    <div class="price-input">
	                                        <input type="text" id="minamount">
	                                        <input type="text" id="maxamount">
	                                    </div>
	                                </div>
	                            </div>
	                        </div>
	                        <div class="sidebar__item sidebar__item__color--option">
	                            <h4>Colors</h4>
	                            <div class="sidebar__item__color sidebar__item__color--white">
	                                <label for="white">
	                                    White
	                                    <input type="radio" id="white">
	                                </label>
	                            </div>
	                            <div class="sidebar__item__color sidebar__item__color--gray">
	                                <label for="gray">
	                                    Gray
	                                    <input type="radio" id="gray">
	                                </label>
	                            </div>
	                            <div class="sidebar__item__color sidebar__item__color--red">
	                                <label for="red">
	                                    Red
	                                    <input type="radio" id="red">
	                                </label>
	                            </div>
	                            <div class="sidebar__item__color sidebar__item__color--black">
	                                <label for="black">
	                                    Black
	                                    <input type="radio" id="black">
	                                </label>
	                            </div>
	                            <div class="sidebar__item__color sidebar__item__color--blue">
	                                <label for="blue">
	                                    Blue
	                                    <input type="radio" id="blue">
	                                </label>
	                            </div>
	                            <div class="sidebar__item__color sidebar__item__color--green">
	                                <label for="green">
	                                    Green
	                                    <input type="radio" id="green">
	                                </label>
	                            </div>
	                        </div>
	                        <div class="sidebar__item">
	                            <h4>Popular Size</h4>
	                            <div class="sidebar__item__size">
	                                <label for="large">
	                                    Large
	                                    <input type="radio" id="large">
	                                </label>
	                            </div>
	                            <div class="sidebar__item__size">
	                                <label for="medium">
	                                    Medium
	                                    <input type="radio" id="medium">
	                                </label>
	                            </div>
	                            <div class="sidebar__item__size">
	                                <label for="small">
	                                    Small
	                                    <input type="radio" id="small">
	                                </label>
	                            </div>
	                            <div class="sidebar__item__size">
	                                <label for="tiny">
	                                    Tiny
	                                    <input type="radio" id="tiny">
	                                </label>
	                            </div>
	                        </div>
	                        <div class="sidebar__item">
	                            <div class="latest-product__text">
			                        <h4>Đánh Giá Cao</h4>
			                        <div class="latest-product__slider owl-carousel">
			                            <div class="latest-prdouct__slider__item" th:each="product, iterStat : ${productsTop}" th:if="${iterStat.index % 3 == 0}">
							                <div class="latest-product__item-group">
							                    <a th:href="@{|/product/detail/${product.id}|}" class="latest-product__item">
							                        <div class="latest-product__item__pic" style="width: 40%">
							                            <img th:src="@{|/assets/img/product/${product.image}|}" alt="">
							                        </div>
							                        <div class="latest-product__item__text">
							                            <h6 th:text="${product.name}"></h6>
							                            <span th:text="${#numbers.formatDecimal(product.price, 0, 'POINT', 0, 'POINT')}">
							                                &nbsp<span style="text-decoration: underline; color: #252525; font-weight: 700;">đ</span>
							                            </span>
							                        </div>
							                    </a>
							                </div>
							                <th:block th:if="${iterStat.index + 1 &lt; productsTop.size()}">
							                    <div class="latest-product__item-group">
							                        <a th:href="@{|/product/detail/${productsTop[iterStat.index + 1].id}|}" class="latest-product__item">
							                            <div class="latest-product__item__pic" style="width: 40%">
							                                <img th:src="@{|/assets/img/product/${productsTop[iterStat.index + 1].image}|}" alt="">
							                            </div>
							                            <div class="latest-product__item__text">
							                                <h6 th:text="${productsTop[iterStat.index + 1].name}"></h6>
							                                <span th:text="${#numbers.formatDecimal(productsTop[iterStat.index + 1].price, 0, 'POINT', 0, 'POINT')}">
							                                    &nbsp<span style="text-decoration: underline; color: #252525; font-weight: 700;">đ</span>
							                                </span>
							                            </div>
							                        </a>
							                    </div>
							                </th:block>
							                <th:block th:if="${iterStat.index + 2 &lt; productsTop.size()}">
							                    <div class="latest-product__item-group">
							                        <a th:href="@{|/product/detail/${productsTop[iterStat.index + 2].id}|}" class="latest-product__item">
							                            <div class="latest-product__item__pic" style="width: 40%">
							                                <img th:src="@{|/assets/img/product/${productsTop[iterStat.index + 2].image}|}" alt="">
							                            </div>
							                            <div class="latest-product__item__text">
							                                <h6 th:text="${productsTop[iterStat.index + 2].name}"></h6>
							                                <span th:text="${#numbers.formatDecimal(productsTop[iterStat.index + 2].price, 0, 'POINT', 0, 'POINT')}">
							                                    &nbsp<span style="text-decoration: underline; color: #252525; font-weight: 700;">đ</span>
							                                </span>
							                            </div>
							                        </a>
							                    </div>
							                </th:block>
							            </div>    
			                        </div>
			                    </div>
	                        </div>
	                    </div>
	                </div>
	                <div class="col-lg-9 col-md-7">
	                    <div class="product__discount">
	                        <div class="section-title product__discount__title">
	                            <h2>Sản Phẩm Mới</h2>
	                        </div>
	                        <div class="row">
	                            <div class="product__discount__slider owl-carousel">
	                                <div class="col-lg-4" th:each="product : ${productsNew}">
	                                    <div class="product__discount__item">
	                                        <div class="product__discount__item__pic set-bg w-100"
	                                            th:data-setbg="@{|/assets/img/product/${product.image}|}">
	                                            <div class="product__discount__percent">NEW</div>
	                                            <ul class="product__item__pic__hover">
	                                                <li><a href="#"><i class="fa fa-heart"></i></a></li>
	                                                <li><a th:href="@{|/product/detail/${product.id}|}"><i class="fa-solid fa-circle-info"></i></a></li>
	                                        		<li><a th:attr="ng-click=@{|cart.add(${product.id})|}"><i class="fa fa-shopping-cart"></i></a></li>
	                                            </ul>
	                                        </div>
	                                        <div class="product__discount__item__text">
	                                            <span th:text="${product.category.name}"></span>
	                                            <h5><a th:text="${product.name}"></a></h5>
	                                           <div class="row" style="display: flex; justify-content: center;">
												    <h5 style="font-weight: 700" th:text="${#numbers.formatDecimal(product.price, 0, 'POINT', 0, 'POINT')}"></h5>
												    &nbsp<span style="text-decoration: underline; color: #252525; font-weight: 700;">đ</span>
												</div>

	                                        </div>
	                                    </div>
	                                </div>
	                            </div>
	                        </div>
	                    </div>
	                    <div class="filter__item">
	                        <div class="row">
	                            <div class="col-lg-4 col-md-5">
	                                <div class="filter__sort">
	                                    <span>Sort By</span>
	                                    <select>
	                                        <option value="0">Default</option>
	                                        <option value="0">Default</option>
	                                    </select>
	                                </div>
	                            </div>
	                            <div class="col-lg-4 col-md-4">
	                                <div class="filter__found">
	                                    <h6><span>16</span> Products found</h6>
	                                </div>
	                            </div>
	                            <div class="col-lg-4 col-md-3">
	                                <div class="filter__option">
	                                    <span class="icon_grid-2x2"></span>
	                                    <span class="icon_ul"></span>
	                                </div>
	                            </div>
	                        </div>
	                    </div>
	                    <div class="row">
	                        <div class="col-lg-4 col-md-6 col-sm-6" th:each="p : ${items}">
	                            <div class="product__item">
	                                <div class="product__item__pic set-bg" th:data-setbg="@{|/assets/img/product/${p.image}|}">
	                                    <ul class="product__item__pic__hover">
	                                        <li><a href="#"><i class="fa fa-heart"></i></a></li>
	                                        <li><a th:href="@{|/product/detail/${p.id}|}"><i class="fa-solid fa-circle-info"></i></a></li>
	                                        <li><a th:attr="ng-click=@{|cart.add(${p.id})|}"><i class="fa fa-shopping-cart"></i></a></li>
	                                    </ul>
	                                </div>
	                                <div class="product__item__text">
	                                    <h6><a href="#" th:text="${p.name}"></a></h6>
	                                    <div class="row" style="display: flex; justify-content: center;">
										  <h5 th:text="${#numbers.formatDecimal(p.price, 0, 'POINT', 0, 'POINT')}"></h5>
										  &nbsp<span style="text-decoration: underline; color: #252525; font-weight: 700;">đ</span>
										</div>                          
	                                </div>
	                            </div>
	                        </div>
	                    </div>
	                    
	                    <div class="col-12">
				    		<ul class="pagination justify-content-center">
								<th:block th:if="${currentPage == 1}">
									<li class="page-item">
					            		<a class="page-link" style="cursor: pointer;color: #007bff;" disabled>Previous</a>
					        		</li>
								</th:block>
								<th:block th:if="${currentPage > 1}">
					        		<!-- Prev -->
					        		<li class="page-item">
					            		<a class="page-link" style="cursor: pointer;" th:href="@{/product/list(page=${currentPage - 1})}">Previous</a>
					        		</li>	
								</th:block>
				
								<th:block th:if="${maxPages == 0}">
									<li class="page-item">
				            			<a class="page-link" style="cursor: pointer;color: #007bff;">1</a>
					        		</li>
								</th:block>
								<th:block th:if="${maxPages > 0}">
					        		<li class="page-item" th:each="pageNum : ${#numbers.sequence(1, maxPages)}">
					            		<a class="page-link" style="cursor: pointer;" th:href="@{/product/list(page=${pageNum})}" th:classappend="${pageNum == currentPage} ? 'active'">[[${pageNum}]]</a>
					        		</li>	
								</th:block>
				
								<th:block th:if="${currentPage < maxPages}">
					        		<li class="page-item">
					            		<a class="page-link" style="cursor: pointer;" th:href="@{/product/list(page=${currentPage + 1})}">Next</a>
					        		</li>
				        		</th:block>
				        		<th:block th:unless="${currentPage < maxPages}">
					        		<li class="page-item">
					            		<a class="page-link" style="cursor: pointer;color: #007bff;" disabled>Next</a>
					        		</li>
				        		</th:block>
				    		</ul>
						</div>
	                </div>
	            </div>
	        </div>
	    </section>
	    <!-- Product Section End -->
	</main>
</body>
</html>